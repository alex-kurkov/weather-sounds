{"version":3,"file":"main.7bed5e1b9c6d6c4f1980.js","mappings":"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","sources":["webpack:///./data.ts","webpack:///./index.ts","webpack:///webpack/bootstrap","webpack:///webpack/runtime/global","webpack:///webpack/runtime/make namespace object","webpack:///webpack/runtime/publicPath","webpack:///webpack/startup"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst rain_mp3_1 = __importDefault(require(\"sounds/rain.mp3\"));\nconst rainy_bg_jpg_1 = __importDefault(require(\"images/rainy-bg.jpg\"));\nconst cloud_rain_svg_1 = __importDefault(require(\"icons/cloud-rain.svg\"));\nconst summer_mp3_1 = __importDefault(require(\"sounds/summer.mp3\"));\nconst summer_bg_jpg_1 = __importDefault(require(\"images/summer-bg.jpg\"));\nconst sun_svg_1 = __importDefault(require(\"icons/sun.svg\"));\nconst winter_mp3_1 = __importDefault(require(\"sounds/winter.mp3\"));\nconst winter_bg_jpg_1 = __importDefault(require(\"images/winter-bg.jpg\"));\nconst cloud_snow_svg_1 = __importDefault(require(\"icons/cloud-snow.svg\"));\nconst seasons = [\n    {\n        id: 'sun',\n        sound: summer_mp3_1.default,\n        image: `url(${summer_bg_jpg_1.default}`,\n        icon: `url(${sun_svg_1.default}`,\n    },\n    {\n        id: 'rain',\n        sound: rain_mp3_1.default,\n        image: `url(${rainy_bg_jpg_1.default}`,\n        icon: `url(${cloud_rain_svg_1.default}`,\n    },\n    {\n        id: 'snow',\n        sound: winter_mp3_1.default,\n        image: `url(${winter_bg_jpg_1.default}`,\n        icon: `url(${cloud_snow_svg_1.default}`,\n    },\n];\nexports.default = seasons;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst data_1 = __importDefault(require(\"./data\"));\nrequire(\"./styles.scss\");\nconst PLAYING_CLASS = 'playing';\ntry {\n    // Получаем необходимые для работы DOM ноды\n    const root = document.querySelector('#app');\n    if (!root)\n        throw new Error('no root element found');\n    // далее везде применяю type assertion для упрощения кода вместо проверок элементов на null\n    const seasons = root.querySelector('.seasons');\n    const cardTemplate = root.querySelector('#card-template');\n    const audio = root.querySelector('#audio');\n    const volume = root.querySelector('#volume');\n    // хелпер получения из DOM элемента с иконкой по id\n    function getIconElementById(id) {\n        return seasons.querySelector(`.icon[data-id=${id}]`);\n    }\n    // рендерим карточки в DOM\n    data_1.default.forEach(({ id, image, icon }) => {\n        const cardItem = cardTemplate.content.cloneNode(true);\n        const cardElement = cardItem.querySelector('.seasons-card');\n        const iconElement = cardItem.querySelector('.icon');\n        cardElement.dataset.id = id;\n        iconElement.dataset.id = id;\n        cardElement.style.backgroundImage = image;\n        iconElement.style.backgroundImage = icon;\n        seasons.append(cardItem);\n    });\n    // стейт-переменная приложения + установка начальных значений\n    let currentSeason = data_1.default[0];\n    // eslint-disable-next-line no-use-before-define\n    let currentSeasonIconElement = getIconElementById(currentSeason.id);\n    // хендлеры и хелперы\n    function setSeason() {\n        root.style.backgroundImage = currentSeason.image;\n        audio.src = currentSeason.sound;\n    }\n    function setVolumeHandler(e) {\n        const target = e.target;\n        audio.volume = Number(target.value);\n    }\n    function clickCardHandler(e) {\n        var _a;\n        if (audio.readyState !== 4)\n            return;\n        const targetElement = e.target;\n        const clickedSeasonId = targetElement.dataset.id;\n        const clickedSeasonIcon = getIconElementById(clickedSeasonId);\n        if (currentSeason.id !== clickedSeasonId) {\n            currentSeason = (_a = data_1.default.find((i) => i.id === clickedSeasonId)) !== null && _a !== void 0 ? _a : data_1.default[0];\n            currentSeasonIconElement.classList.remove(PLAYING_CLASS);\n            currentSeasonIconElement = clickedSeasonIcon;\n            currentSeasonIconElement.classList.add(PLAYING_CLASS);\n            setSeason();\n            audio.play();\n            return;\n        }\n        if (audio.paused) {\n            currentSeasonIconElement.classList.add(PLAYING_CLASS);\n            audio.play();\n        }\n        else {\n            clickedSeasonIcon.classList.remove(PLAYING_CLASS);\n            audio.pause();\n        }\n    }\n    // установка слушателей\n    seasons.addEventListener('click', clickCardHandler);\n    volume.addEventListener('input', setVolumeHandler);\n    // пуск\n    setSeason();\n}\ncatch (error) {\n    document.documentElement.textContent = 'ERROR!';\n    console.error(error);\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && !scriptUrl) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(539);\n"],"names":["__importDefault","this","mod","__esModule","Object","defineProperty","exports","value","rain_mp3_1","rainy_bg_jpg_1","cloud_rain_svg_1","summer_mp3_1","summer_bg_jpg_1","sun_svg_1","winter_mp3_1","winter_bg_jpg_1","cloud_snow_svg_1","seasons","id","sound","default","image","icon","data_1","PLAYING_CLASS","root","document","querySelector","Error","cardTemplate","audio","volume","getIconElementById","forEach","cardItem","content","cloneNode","cardElement","iconElement","dataset","style","backgroundImage","append","currentSeason","currentSeasonIconElement","setSeason","src","setVolumeHandler","e","target","Number","clickCardHandler","_a","readyState","clickedSeasonId","clickedSeasonIcon","find","i","classList","remove","add","play","paused","pause","addEventListener","error","documentElement","textContent","console","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__","call","g","globalThis","Function","window","r","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","scripts","getElementsByTagName","length","replace","p"],"sourceRoot":""}